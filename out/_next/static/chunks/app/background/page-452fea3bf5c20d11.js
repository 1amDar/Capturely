(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[843],{5525:(e,t,a)=>{Promise.resolve().then(a.bind(a,7773))},6046:(e,t,a)=>{"use strict";a.r(t);var r=a(6658),s={};for(let e in r)"default"!==e&&(s[e]=()=>r[e]);a.d(t,s)},7773:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var r=a(5155),s=a(6046),l=a(2115),i=a(7364),o=a(7401);let n=(0,o.A)("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),c=(0,o.A)("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),d=(0,o.A)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);var x=a(7866),h=a(5173);let m=(0,o.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),f=(0,o.A)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);var u=a(78),p=a.n(u),g=a(5565);function b(){let e=(0,s.useRouter)(),{useSearchParams:t}=a(6046),o=t(),[u,b]=(0,l.useState)([]),[y,j]=(0,l.useState)("#f5a9b8"),[v,N]=(0,l.useState)(!0),[w,k]=(0,l.useState)("#f5a9b8"),[C,S]=(0,l.useState)(320),[z,M]=(0,l.useState)(12),[P,D]=(0,l.useState)(24),[E,T]=(0,l.useState)(12),[F,A]=(0,l.useState)(2),[L,R]=(0,l.useState)("#ffffff"),[O,B]=(0,l.useState)("short"),[_,I]=(0,l.useState)(!1),[H,q]=(0,l.useState)("colors"),[U,V]=(0,l.useState)(!1),[W,Y]=(0,l.useState)(!1),[J,X]=(0,l.useState)("#000000"),[G,K]=(0,l.useState)(""),Q=(0,l.useRef)(null);(0,l.useEffect)(()=>{if("true"===o.get("complete"))try{let e=localStorage.getItem("photoBoothImages");if(e){let t=JSON.parse(e);b(t)}else b([{src:"/api/placeholder/400/400",filter:"none"},{src:"/api/placeholder/400/400",filter:"sepia"},{src:"/api/placeholder/400/400",filter:"grayscale"},{src:"/api/placeholder/400/400",filter:"vintage"}])}catch(e){console.error("Error retrieving images:",e),b([{src:"/api/placeholder/400/400",filter:"none"},{src:"/api/placeholder/400/400",filter:"sepia"},{src:"/api/placeholder/400/400",filter:"grayscale"},{src:"/api/placeholder/400/400",filter:"vintage"}])}else e.push("/")},[o,e]);let Z={none:{},grayscale:{filter:"grayscale(1)"},sepia:{filter:"sepia(0.8)"},invert:{filter:"invert(0.8)"},blur:{filter:"blur(1px) brightness(1.1)"},brightness:{filter:"brightness(1.3) contrast(1.1)"},vintage:{filter:"sepia(0.3) contrast(1.1) brightness(0.9) saturate(1.5)"}},$=async()=>{if(Q.current)try{V(!0),_&&I(!1),Q.current.querySelectorAll("img").forEach(e=>{let t=e.getAttribute("data-filter");t&&Z[t]&&(e.style.filter=Z[t].filter)}),await new Promise(e=>setTimeout(e,100));let e=(await p()(Q.current,{useCORS:!0,scale:2,backgroundColor:null})).toDataURL("image/png"),t=document.createElement("a");t.href=e,t.download="photo-strip-".concat(new Date().toISOString().split("T")[0],".png"),document.body.appendChild(t),t.click(),document.body.removeChild(t),_&&I(!0),Y(!0),setTimeout(()=>Y(!1),3e3)}catch(e){console.error("Error saving photo strip:",e),alert("There was a problem saving your photo strip. Please try again.")}finally{V(!1)}},ee=async()=>{if(Q.current)try{V(!0),_&&I(!1),await new Promise(e=>setTimeout(e,100));let e=await p()(Q.current,{useCORS:!0,scale:2,backgroundColor:null});e.toBlob(async t=>{try{if(!t)throw Error("Failed to create image blob");if(navigator.share)await navigator.share({title:"My Photo Strip",files:[new File([t],"photo-strip.png",{type:"image/png"})]});else{let t=e.toDataURL("image/png"),a=document.createElement("a");a.href=t,a.download="photo-strip-".concat(new Date().toISOString().split("T")[0],".png"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}}catch(e){console.error("Error sharing photo strip:",e),alert("There was a problem sharing your photo strip. You can try saving it instead.")}finally{_&&I(!0),V(!1)}},"image/png")}catch(e){console.error("Error sharing photo strip:",e),alert("There was a problem preparing your photo strip for sharing. Please try again."),V(!1)}},et={short:new Date().toLocaleDateString(),long:new Date().toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),time:new Date().toLocaleString()},ea=e=>{let{label:t,value:a,onChange:s,min:l,max:i,step:o=1}=e;return(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700",children:t}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:[a,"px"]})]}),(0,r.jsx)("input",{type:"range",min:l,max:i,step:o,value:a,onChange:e=>s(parseInt(e.target.value)),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})},er=e=>{let{color:t,onChange:a,label:s}=e;return(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium mb-2 text-gray-700",children:s}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg border border-gray-200",style:{backgroundColor:t},"aria-label":"Color preview: ".concat(t)}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("input",{type:"color",value:t,onChange:e=>a(e.target.value),className:"w-full h-8 cursor-pointer rounded","aria-label":"".concat(s," color picker")})})]})]})};return(0,r.jsx)("main",{className:"min-h-screen flex flex-col items-center justify-between p-4 md:p-6 bg-gray-50",children:(0,r.jsxs)("div",{className:"w-full max-w-4xl mx-auto flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"w-full flex justify-between items-center mb-6",children:[(0,r.jsx)("button",{onClick:()=>e.back(),className:"flex items-center text-blue-500 bg-white hover:bg-gray-50 transition p-2 rounded-full shadow-sm",children:(0,r.jsx)(i.A,{size:18})}),(0,r.jsx)("h1",{className:"text-xl font-light text-center text-gray-800",children:"Your Photo Strip"}),(0,r.jsx)("div",{className:"w-10"})," "]}),(0,r.jsxs)("div",{className:"w-full flex flex-col md:flex-row gap-6 items-start",children:[(0,r.jsxs)("div",{className:"w-full md:w-64 bg-white p-4 rounded-lg shadow-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-base font-medium",children:"Customize"}),(0,r.jsx)("button",{onClick:()=>I(!_),className:"text-gray-400 hover:text-gray-600 transition",title:_?"Maximize Strip":"Minimize Strip",children:_?(0,r.jsx)(n,{size:16}):(0,r.jsx)(c,{size:16})})]}),(0,r.jsxs)("div",{className:"flex border-b border-gray-100 mb-4",children:[(0,r.jsxs)("button",{onClick:()=>q("colors"),className:"flex items-center px-3 py-1.5 text-xs ".concat("colors"===H?"text-blue-500 border-b border-blue-500":"text-gray-500"),children:[(0,r.jsx)(d,{size:14,className:"mr-1"})," Colors"]}),(0,r.jsxs)("button",{onClick:()=>q("layout"),className:"flex items-center px-3 py-1.5 text-xs ".concat("layout"===H?"text-blue-500 border-b border-blue-500":"text-gray-500"),children:[(0,r.jsx)(x.A,{size:14,className:"mr-1"})," Layout"]}),(0,r.jsxs)("button",{onClick:()=>q("extras"),className:"flex items-center px-3 py-1.5 text-xs ".concat("extras"===H?"text-blue-500 border-b border-blue-500":"text-gray-500"),children:[(0,r.jsx)(h.A,{size:14,className:"mr-1",alt:""})," Extras"]})]}),(0,r.jsxs)("div",{className:"h-56 overflow-y-auto pr-2 mb-4",children:["colors"===H&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(er,{color:y,onChange:j,label:"Background Color"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-xs font-medium mb-2 text-gray-500",children:"Presets"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1.5",children:["#f5a9b8","#a9def5","#d4f5a9","#f5d6a9","#e5a9f5","#f5f5f5","#000000","#ffffff","#ff4d4d","#4d79ff"].map((e,t)=>(0,r.jsx)("button",{onClick:()=>j(e),className:"w-6 h-6 rounded-full border hover:scale-110 transition",style:{backgroundColor:e,borderColor:"#ffffff"===e?"#e0e0e0":"white"},"aria-label":"Color preset: ".concat(e)},t))})]}),(0,r.jsx)(er,{color:L,onChange:R,label:"Border Color"})]}),"layout"===H&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(ea,{label:"Strip Width",value:C,onChange:S,min:200,max:500}),(0,r.jsx)(ea,{label:"Photo Spacing",value:z,onChange:M,min:4,max:24}),(0,r.jsx)(ea,{label:"Strip Padding",value:P,onChange:D,min:8,max:40}),(0,r.jsx)(ea,{label:"Border Radius",value:E,onChange:T,min:0,max:24}),(0,r.jsx)(ea,{label:"Border Width",value:F,onChange:A,min:0,max:8})]}),"extras"===H&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-bold mb-2 text-gray-800",children:"Font Color"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-1.5",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",id:"dateNone",checked:!v,onChange:()=>N(!1),className:"mr-2"}),(0,r.jsx)("label",{htmlFor:"dateNone",className:"text-xs text-gray-600",children:"No date"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",id:"dateShort",checked:v&&"short"===O,onChange:()=>{N(!0),B("short")},className:"mr-2"}),(0,r.jsxs)("label",{htmlFor:"dateShort",className:"text-xs text-gray-600",children:["Short (",et.short,")"]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",id:"dateLong",checked:v&&"long"===O,onChange:()=>{N(!0),B("long")},className:"mr-2"}),(0,r.jsx)("label",{htmlFor:"dateLong",className:"text-xs text-gray-600",children:"Long"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",id:"dateTime",checked:v&&"time"===O,onChange:()=>{N(!0),B("time")},className:"mr-2"}),(0,r.jsx)("label",{htmlFor:"dateTime",className:"text-xs text-gray-600",children:"Date & Time"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-bold mb-2 text-gray-800",children:"Date Format"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-6 h-6 rounded-lg border border-gray-200",style:{backgroundColor:J},"aria-label":"Date font color preview: ".concat(J)}),(0,r.jsx)("input",{type:"color",value:J,onChange:e=>X(e.target.value),className:"w-full h-6 cursor-pointer rounded","aria-label":"Date font color picker"})]}),(0,r.jsxs)("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[["#000000","#ffffff","#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#808080"].map((e,t)=>(0,r.jsx)("button",{onClick:()=>X(e),className:"w-5 h-5 rounded-full border hover:scale-110 transition",style:{backgroundColor:e,borderColor:"#ffffff"===e?"#e0e0e0":"white"},"aria-label":"Font color preset: ".concat(e)},t)),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("h3",{className:"text-sm font-bold mb-2 text-gray-800",children:"Title"}),(0,r.jsx)("div",{className:"flex w-full",children:(0,r.jsx)("input",{type:"text",value:G,onChange:e=>K(e.target.value),placeholder:"Photobooth Name here",className:" flex-1 min-w-0 px-3 py-2 text-sm rounded-lg border border-gray-300 text-black placeholder-gray-400 focus:outline-none  transition "})})]})]})]})]})]}),(0,r.jsxs)("div",{className:"pt-3 border-t border-gray-100 space-y-2",children:[W&&(0,r.jsx)("div",{className:"bg-green-50 text-green-700 text-xs p-1.5 rounded mb-2 text-center",children:"Photo strip saved successfully!"}),(0,r.jsx)("button",{onClick:$,disabled:U,className:"w-full flex items-center justify-center px-3 py-1.5 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition disabled:bg-blue-300 disabled:cursor-not-allowed text-sm",children:U?"Saving...":(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m,{size:14,className:"mr-1.5"}),"Save Photo"]})}),(0,r.jsx)("button",{onClick:ee,disabled:U,className:"w-full flex items-center justify-center px-3 py-1.5 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition disabled:bg-gray-50 disabled:text-gray-400 disabled:cursor-not-allowed text-sm",children:U?"Processing...":(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f,{size:14,className:"mr-1.5"}),"Share"]})})]})]}),(0,r.jsx)("div",{className:"flex-1 flex justify-center items-center",children:(0,r.jsx)("div",{ref:Q,className:"rounded-lg shadow-sm transition-all duration-300 flex justify-center items-center",style:{backgroundColor:y,padding:"".concat(P,"px"),width:_?"160px":"".concat(C,"px"),transform:_?"scale(0.6)":"scale(1)"},children:(0,r.jsxs)("div",{className:"flex flex-col w-full",style:{gap:"".concat(z,"px")},children:[u.map((e,t)=>(0,r.jsx)("div",{className:"relative overflow-hidden bg-white","data-filter":e.filter,style:{borderRadius:"".concat(E,"px"),border:"".concat(F,"px solid ").concat(L)},children:(0,r.jsx)(g.default,{src:e.src,alt:"Photo ".concat(t+1),width:400,height:400,className:"w-full h-auto",style:{...Z[e.filter],transform:"scaleX(-1)"},"data-filter":e.filter})},t)),(G||v)&&(0,r.jsxs)("div",{className:"text-center mt-1",style:{color:J,fontSize:_?"9px":"11px",lineHeight:"1.2"},children:[G&&(0,r.jsx)("div",{children:G}),v&&(0,r.jsx)("div",{children:et[O]})]})]})})})]})]})})}function y(){return(0,r.jsx)(l.Suspense,{fallback:(0,r.jsx)("div",{className:"p-4",children:"Loading..."}),children:(0,r.jsx)(b,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[316,916,441,587,358],()=>t(5525)),_N_E=e.O()}]);